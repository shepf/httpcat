# 上传流程
文件上传分为客户端上传（主要是指网页端和移动端等面向终端用户的场景）和服务端上传两种场景

关键原则
这个模型的关键点如下：
整个架构中需要一个业务服务器组件。
无论如何，访问密钥（AK/SK）均不得包含在客户端的分发包中（如二进制代码、配置文件或网页中）。
SecretKey不得在任何场景中的公网上传输，更不得传输到客户端。



业务服务器
业务服务器需要开发者自行管理和维护，并且至少提供如下几个基本功能：

生成各种安全凭证（参考安全机制），安全凭证的创建不能在客户端进行，否则会产生极大的安全风险。
上传域名等跟随安全凭证一起下发给客户端，提高域名等变更灵活性。各区域域名情况参考 域名列表
使用关系型数据库（例如MySQL）管理用户帐号信息。最终用户信息的管理并非云存储服务的功能范畴。云存储服务只管理企业账号。
使用数据库管理资源元数据和资源之间的关联关系。
响应客户端的业务请求，执行业务流程并返回执行结果。
客户端

客户端通常同时是资源的生产方和消费方。客户端在展示内容时，通常需要先从业务服务器获取资源的元信息，并得到必要的下载凭证，然后使用下载凭证从七牛云存储服务获取待展示的资源内容，从而实现一个完整的内容展示过程。


业务流程


## 客户端上传凭证
客户端（移动端或者Web端）上传文件的时候，需要从客户自己的业务服务器获取上传凭证，而这些上传凭证是通过服务端的SDK来生成的，
然后通过客户自己的业务API分发给客户端使用。根据上传的业务需求不同，httpcat Go SDK支持丰富的上传凭证生成方式。

开启上传凭证功能， 上传文件时候，需要上传凭证，可以有效防止别人恶意上传文件到你的空间中，上传凭证的生成需要在服务端进行，不能在客户端生成，否则会有极大的安全风险。




httpcat 提供生成客户端上传所需的上传凭证的功能
httpcat 提供文件从服务端直接上传七牛的功能


## 上传策略
上传凭证封装了上传策略签名，上传策略是一组上传相关的参数集合，这些参数包括：
上传策略是资源上传时附带的一组配置设定。通过这组配置信息，httpcat可以了解用户上传的需求：它将上传公开还是私有空间，
上传结果是回调通知还是使用重定向跳转，是否需要设置反馈信息的内容，以及授权上传的截止时间等等。



## 使用思路
用户登录功能 todo。
用户登录后，请求特定接口创建生成自己的AK/SK，
可以使用这个AK/SK生成上传凭证，然后上传文件到httpcat中。

在开始上传之前，首先需要获取一下上传专用token，也就是上传步骤的第一步，这个token是上传文件专用的。





